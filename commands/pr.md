---
description: "/summary 명령어를 실행하고 그 결과를 기반으로 GitHub PR을 생성합니다."
---

# GitHub Pull Request 생성

## 기준 브랜치 설정

- 기준 브랜치: `$ARGS` (인자가 없으면 `main` 사용)
- 예시: `/pr` → main 브랜치 기준, `/pr dev` → dev 브랜치 기준

## 작업 순서

1. **현재 브랜치 정보 확인**

   - `git branch --show-current` 명령으로 현재 브랜치 이름 확인
   - 기준 브랜치가 지정되지 않았으면 `main`을, 지정되었으면 해당 브랜치(`$ARGS`)를 사용
   - `git log origin/<기준브랜치>..HEAD --oneline` 명령으로 기준 브랜치 대비 커밋 목록 확인

2. **변경된 파일 목록 확인**

   - `git diff origin/<기준브랜치>...HEAD --name-status` 명령으로 변경된 파일 목록 확인
   - 추가(A), 수정(M), 삭제(D) 파일 분류

3. **변경 내용 상세 분석**

   - `git diff origin/<기준브랜치>...HEAD` 명령으로 전체 diff 확인
   - 각 파일별 변경사항 분석

4. **전체 코드베이스 대상 확인**

   - 변경사항에 반영되어야 하지만 변경되지 않은 부분이 다코드베이스에 남아있는지 확인
   - 전체 코드베이스의 코드 형태와 변경사항이 잘 어우러지는지 확인

5. **변경 사항 요약 생성**
   아래의 관점에서 변경사항을 요약해주세요.

   - 주요 기능 추가 사항
   - 주요 구조 변경 사항
   - 코드 리팩토링

6. **GitHub PR 생성**

   - `mcp--github--create_pull_request` 도구를 사용하여 PR을 생성합니다.
   - 필수 파라미터:
     - `owner`: 저장소 소유자 (원격 URL에서 추출)
     - `repo`: 저장소 이름 (원격 URL에서 추출)
     - `title`: 생성한 PR 제목
     - `head`: 현재 브랜치 이름
     - `base`: `main` (또는 기본 브랜치)
     - `body`: 변경 사항 요약을 기반으로 생성한 PR 본문
     - `draft`: 사용자에게 draft PR 여부를 확인 (기본값: false)

7. **결과 출력**

   - 생성된 PR의 URL을 사용자에게 제공합니다.
   - PR 번호와 제목을 함께 출력합니다.

## 주의사항

- 현재 브랜치가 `main`인 경우 PR 생성을 중단하고 사용자에게 알립니다.
- 이미 동일한 브랜치로 열린 PR이 있는지 `mcp--github--list_pull_requests`로 확인합니다.
- 원격 저장소에 현재 브랜치가 push되어 있지 않으면 push를 수행합니다.
- PR 생성시 제목의 형식은 기존에 열려있는 PR의 형식을 참고합니다.
- PR 생성 전 제목과 본문을 사용자에게 보여주고 확인을 받습니다.
